{
	"project": "login",
	"student": {
		"first_name": "Yasmeen",
		"last_name": "Haider"
	},
	"login_registration/login_registration/urls.py": {
		"raw": "from django.conf.urls import url, include from django.contrib import admin urlpatterns = [ url(r'^', include('apps.lr.urls')), # There is just one app, so we want everything # to route to that specific app, hence just the # '^' with no closing '$' ] "
	},
	"login_registration/login_registration/wsgi.py": {
		"raw": "\"\"\" WSGI config for login_registration project. It exposes the WSGI callable as a module-level variable named ``application``. For more information on this file, see https://docs.djangoproject.com/en/1.10/howto/deployment/wsgi/ \"\"\" import os from django.core.wsgi import get_wsgi_application os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"login_registration.settings\") application = get_wsgi_application() "
	},
	"login_registration/login_registration/settings.py": {
		"raw": "\"\"\" Django settings for login_registration project. Generated by 'django-admin startproject' using Django 1.10. For more information on this file, see https://docs.djangoproject.com/en/1.10/topics/settings/ For the full list of settings and their values, see https://docs.djangoproject.com/en/1.10/ref/settings/ \"\"\" import os # Build paths inside the project like this: os.path.join(BASE_DIR, ...) BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__))) # Quick-start development settings - unsuitable for production # See https://docs.djangoproject.com/en/1.10/howto/deployment/checklist/ # SECURITY WARNING: keep the secret key used in production secret! SECRET_KEY = '35%$$9!u=p2=cshx6&1k(aar6r*=ak4)_l468j&=5n#&c68%ox' # SECURITY WARNING: don't run with debug turned on in production! DEBUG = True ALLOWED_HOSTS = [] # Application definition INSTALLED_APPS = [ 'apps.lr', 'django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', ] MIDDLEWARE = [ 'django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', ] ROOT_URLCONF = 'login_registration.urls' TEMPLATES = [ { 'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': { 'context_processors': [ 'django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages', ], }, }, ] WSGI_APPLICATION = 'login_registration.wsgi.application' # Database # https://docs.djangoproject.com/en/1.10/ref/settings/#databases DATABASES = { 'default': { 'ENGINE': 'django.db.backends.sqlite3', 'NAME': os.path.join(BASE_DIR, 'db.sqlite3'), } } # Password validation # https://docs.djangoproject.com/en/1.10/ref/settings/#auth-password-validators AUTH_PASSWORD_VALIDATORS = [ { 'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator', }, { 'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator', }, { 'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator', }, { 'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator', }, ] # Internationalization # https://docs.djangoproject.com/en/1.10/topics/i18n/ LANGUAGE_CODE = 'en-us' TIME_ZONE = 'EST' USE_I18N = True USE_L10N = True USE_TZ = True # Static files (CSS, JavaScript, Images) # https://docs.djangoproject.com/en/1.10/howto/static-files/ STATIC_URL = '/static/' "
	},
	"login_registration/apps/lr/urls.py": {
		"raw": "from django.conf.urls import url from . import views urlpatterns = [ url(r'^$', views.index), # Navigates to homepage # where there are login # and registration forms url(r'^login$', views.login), # Processes login with validations # Either proceeds to success page or # displays messages as dismissable alerts url(r'^register$', views.register), # Processes registration with validations # Either proceeds to success page or # displays messages as dismissable alerts url(r'^success$', views.success), # Displays a welcome message with user's # name and a back button ] "
	},
	"login_registration/apps/lr/migrations/0001_initial.py": {
		"raw": "# -*- coding: utf-8 -*- # Generated by Django 1.10 on 2017-07-21 17:33 from __future__ import unicode_literals from django.db import migrations, models class Migration(migrations.Migration): initial = True dependencies = [ ] operations = [ migrations.CreateModel( name='User', fields=[ ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')), ('first_name', models.CharField(max_length=255)), ('last_name', models.CharField(max_length=255)), ('email', models.CharField(max_length=255)), ('password', models.CharField(max_length=255)), ('created_at', models.DateTimeField(auto_now_add=True)), ('updated_at', models.DateTimeField(auto_now=True)), ], ), ] "
	},
	"login_registration/apps/lr/apps.py": {
		"raw": "from __future__ import unicode_literals from django.apps import AppConfig class LrConfig(AppConfig): name = 'lr' "
	},
	"login_registration/apps/lr/admin.py": {
		"raw": "from django.contrib import admin # Register your models here. "
	},
	"login_registration/apps/lr/models.py": {
		"raw": "from __future__ import unicode_literals from django.db import models import re import bcrypt class UserManager(models.Manager): def validator(self, postData): errors = {} if len(postData['fname']) < 2: errors['fnamelen'] = \"First name must be at least 2 characters.\" elif not re.match('[A-Za-z]+', postData['fname']): errors['fnamevalid'] = \"First name must only contain letters.\" if len(postData['lname']) < 2: errors['lnamelen'] = \"Last name must be at least 2 characters.\" elif not re.match('[A-Za-z]+', postData['lname']): errors['lnamevalid'] = \"Last name must only contain letters.\" if len(postData['email']) < 1: errors['emaillen'] = \"Email is required.\" elif not re.match('[A-Za-z-0-9-_]+(.[A-Za-z-0-9-_]+)*@[A-Za-z-0-9-_]+(.[A-Za-z-0-9-_]+)*(.[A-Za-z]{2,})', postData['email']): errors['emailvalid'] = \"Email is not valid.\" elif User.objects.filter(email=postData['email']): errors['emailtaken'] = \"Email was already registered.\" if len(postData['password']) < 8: errors['passlen'] = \"Password must be at least 8 characters.\" if postData['password'] != postData['conpass']: errors['passconpass'] = \"Passwords do not match.\" return errors # This is the registration validator. It runs when the site routes to the # '/register' page to determine if everything follows the validations and # whether to add user and to proceed to welcome page def loginvalidator(self, postData): errors = {} if len(postData['email']) < 1: errors['no_email'] = \"Please input an email.\" elif not re.match('[A-Za-z-0-9-_]+(.[A-Za-z-0-9-_]+)*@[A-Za-z-0-9-_]+(.[A-Za-z-0-9-_]+)*(.[A-Za-z]{2,})', postData['email']): errors['email_valid'] = \"Email is not valid.\" elif not User.objects.get(email=postData['email']): errors['email_exist'] = \"This email is not registered in our database.\" if len(postData['password']) < 1: errors['no_pass'] = \"Please input a password.\" elif len(postData['password']) < 8: errors['short_pass'] = \"Incorrect password: less than 8 characters.\" elif bcrypt.checkpw(postData['password'].encode(), User.objects.get(email=postData['email']).password.encode()) == False: errors['incorrect_pass'] = \"Incorrect password: does not match password stored in database.\" return errors # This is the login validator. It runs when the site routes to the # '/login' page after the user has submitted their information. # It determines if everything follows the validations and whether # to log in the user and present the welcome page class User(models.Model): first_name = models.CharField(max_length = 255) last_name = models.CharField(max_length = 255) email = models.CharField(max_length = 255) password = models.CharField(max_length = 255) created_at = models.DateTimeField(auto_now_add = True) updated_at = models.DateTimeField(auto_now = True) objects = UserManager() # This is the user class which allows us to add in user objects # with these specific attributes. "
	},
	"login_registration/apps/lr/templates/lr/index.html": {
		"raw": "<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>Login and Registration</title> {% load static %} <link rel=\"stylesheet\" href=\"{% static 'courses_app/bootstrap.min.css' %}\"> <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script> <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script> <style type=\"text/css\"> .errormessage{ background-color: gainsboro; border-radius: 7px; border: none; padding: 10px; margin: 2px; } </style> </head> <body> <nav class=\"navbar navbar-inverse\" data-spy=\"affix\" data-offset-top=\"197\"> <ul class=\"nav navbar-nav\"> <li class=\"active\"><a href=\"#\">Welcome</a></li> <li><a href=\"#\">Login</a></li> <li><a href=\"#\">Register</a></li> </ul> </nav> <div class = \"col-sm-offset-4 col-sm-4\"> <div class=\"form-horizontal\"> <h2>Login</h2> <form class=\"\" action=\"/login\" method=\"post\"> {% csrf_token %} Email: <input class = \"form-control\" type=\"text\" name=\"email\" placeholder=\"Registered email here...\"><br> <div> {% if messages %} {% for message in messages %} {% if 'no_email' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% if 'email_valid' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% if 'email_exist' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% endfor %} {% endif %} </div> Password: <input class = \"form-control\" type=\"password\" name=\"password\"><br> <div> {% if messages %} {% for message in messages %} {% if 'no_pass' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% if 'short_pass' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% endfor %} {% endif %} </div> <input class = \"btn btn-info col-sm-offset-10\" type=\"submit\" name=\"Login\" value = \"Login\"> </form> </div> <div class=\"form-horizontal\"> <h2>Registration</h2> <form class=\"\" action=\"/register\" method=\"post\"> {% csrf_token %} First Name: <input class = \"form-control\" type=\"text\" name=\"fname\" placeholder=\"First name here...\"><br> <div> {% if messages %} {% for message in messages %} {% if 'fnamelen' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% if 'fnamevalid' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% endfor %} {% endif %} </div> Last Name: <input class = \"form-control\" type=\"text\" name=\"lname\" placeholder=\"Last name here...\"><br> <div> {% if messages %} {% for message in messages %} {% if 'lnamelen' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% if 'lnamevalid' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% endfor %} {% endif %} </div> Email: <input class = \"form-control\" type=\"text\" name=\"email\" placeholder=\"Email here...\"><br> <div> {% if messages %} {% for message in messages %} {% if 'emaillen' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% if 'emailvalid' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% if 'emailtaken' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message}} </div> {% endif %} {% endfor %} {% endif %} </div> Password: <input class = \"form-control\" type=\"password\" name=\"password\"><br> <div> {% if messages %} {% for message in messages %} {% if 'passlen' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{message}} </div> {% endif %} {% endfor %} {% endif %} </div> Confirm Password: <input class = \"form-control\" type=\"password\" name=\"conpass\"><br> <div> {% if messages %} {% for message in messages %} {% if 'passconpass' in message.tags %} <div class=\"alert alert-danger alert-dismissable fade in\"> <a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</a> <strong>Required field:</strong> {{ message }} </div> {% endif %} {% endfor %} {% endif %} </div> <input class = \"btn btn-info col-sm-offset-10\" type=\"submit\" name=\"Register\" value = \"Register\"> </form> </div> </div> </body> </html> "
	},
	"login_registration/apps/lr/templates/lr/success.html": {
		"raw": "<!DOCTYPE html> <html> <head> <meta charset=\"utf-8\"> <title>Success</title> {% load static %} <link rel=\"stylesheet\" href=\"{% static 'courses_app/bootstrap.min.css' %}\"> <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script> <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script> </head> <body class = \"col-sm-offset-5 col-sm-4\"> <h1>Welcome {{ request.session.name }}!</h1> <a href=\"/\"><button class = \"btn btn-info col-sm-offset-4\" type=\"button\" name=\"button\">Back</button></a> </body> </html> "
	},
	"login_registration/apps/lr/views.py": {
		"raw": "from django.shortcuts import render, redirect from django.contrib import messages from models import User, UserManager import bcrypt def index(request): return render(request, 'lr/index.html') # Simply renders the template for login/registration forms def login(request): errors = User.objects.loginvalidator(request.POST) if len(errors): for tag,error in errors.iteritems(): messages.error(request, error, extra_tags=tag) return redirect('/') else: request.session['name'] = User.objects.get(email=request.POST['email']).first_name return redirect('/success') # If there are errors, they will display as dismissable alerts # on the homepage, otherwise it will proceed and login in the user def register(request): errors = User.objects.validator(request.POST) if len(errors): for tag,error in errors.iteritems(): messages.error(request, error, extra_tags=tag) else: pwhash = bcrypt.hashpw(request.POST['password'].encode(), bcrypt.gensalt()) User.objects.create(first_name = request.POST['fname'], last_name = request.POST['lname'], email = request.POST['email'], password = pwhash) request.session['name'] = request.POST['fname'] return redirect('/success') return redirect('/') # If there are errors, they will display as dismissable alerts # on the homepage, otherwise it will proceed, add, and welcome the user def success(request): return render(request, 'lr/success.html') # Simply displays the welcome page once # a successful login or registration has # taken place "
	},
	"login_registration/apps/lr/tests.py": {
		"raw": "from django.test import TestCase # Create your tests here. "
	},
	"login_registration/manage.py": {
		"raw": "#!/usr/bin/env python import os import sys if __name__ == \"__main__\": os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"login_registration.settings\") try: from django.core.management import execute_from_command_line except ImportError: # The above import may fail for some other reason. Ensure that the # issue is really that Django is missing to avoid masking other # exceptions on Python 2. try: import django except ImportError: raise ImportError( \"Couldn't import Django. Are you sure it's installed and \" \"available on your PYTHONPATH environment variable? Did you \" \"forget to activate a virtual environment?\" ) raise execute_from_command_line(sys.argv) "
	}
}